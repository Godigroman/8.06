# Домашнее задание к занятию "`Резервное копирование`" - `Клименко Олег`


---

### Задание 1


1. `Составьте команду rsync, которая позволяет создавать зеркальную копию домашней директории пользователя в директорию ` */tmp/backup*
2. `Необходимо исключить из синхронизации все директории, начинающиеся с точки (скрытые)`
3. `Необходимо сделать так, чтобы rsync подсчитывал хэш-суммы для всех файлов, даже если их время модификации и размер идентичны в источнике и приемнике.`
4. `На проверку направить скриншот с командой и результатом ее выполнения`

---
```
rsync -ac --delete --exclude=".*/" . /tmp/backup
```
---

![](https://cdn.discordapp.com/attachments/1228819441756930048/1257313303236182107/image.png?ex=6685ee03&is=66849c83&hm=069c47f2be44f2f53a9f5d9f426dfde008a4d4425f09488ee4526d297fd75e74&)

---

### Задание 2


1. `Написать скрипт и настроить задачу на регулярное резервное копирование домашней директории пользователя с помощью rsync и cron.`
2. `Резервная копия должна быть полностью зеркальной`
3. `Резервная копия должна создаваться раз в день, в системном логе должна появляться запись об успешном или неуспешном выполнении операции`
4. `Резервная копия размещается локально, в директории ` */tmp/backup*
5. `На проверку направить файл crontab и скриншот с результатом работы утилиты.`

---
```
rsync -a --delete /home/joos/ /tmp/backup

if [ "$?" -eq 0 ]; then
        logger "Backup successfully"
else    logger "Backup failed"
fi
```
---
```
0 * * * * /home/joos/rsync.sh
```
---

![](https://cdn.discordapp.com/attachments/1228819441756930048/1257313601711247390/image.png?ex=6685ee4a&is=66849cca&hm=1f45a701858151a1801a8b1a5f2c877383afe6479119256a26326607be8807d7&)

---
---
